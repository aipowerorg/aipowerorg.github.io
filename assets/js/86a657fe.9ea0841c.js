"use strict";(self.webpackChunkhelp=self.webpackChunkhelp||[]).push([[5767],{8031:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>b,contentTitle:()=>p,default:()=>w,frontMatter:()=>m,metadata:()=>r,toc:()=>f});const r=JSON.parse('{"id":"Chat/triggers","title":"Triggers","description":"The Triggers feature is an automation engine that allows you to create event-based rules to control your chatbot\'s behavior.","source":"@site/docs/Chat/triggers.md","sourceDirName":"Chat","slug":"/triggers","permalink":"/docs/triggers","draft":false,"unlisted":false,"editUrl":"https://github.com/aipowerorg/aipowerorg.github.io/edit/main/docs/Chat/triggers.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"id":"triggers","slug":"/triggers","title":"Triggers","sidebar_position":9},"sidebar":"tutorialSidebar","previous":{"title":"Token Management","permalink":"/docs/token-management"},"next":{"title":"Write","permalink":"/docs/category/write"}}');var i=n(4848),t=n(8453);const o=n.p+"assets/images/triggers-addon-c18ecd620100ec86ad01483aaec0b40e.png",l=n.p+"assets/images/triggers-enable-3d2a3d3b6cb6f9e217d8a47944735cfe.png",d=n.p+"assets/images/triggers-events-ab86b1981c0e42b26e30e5c66b48b85b.png",c=n.p+"assets/images/triggers-conds-173c2b6f8d50bf100a00a916792efb7b.png",h=n.p+"assets/images/triggers-actions-cbb4d8ad59e867fde95df6a25595b2f4.png",a=n.p+"assets/images/use-case-step1-fa14d198d41ab320187c6ab35727a510.png",g=n.p+"assets/images/use-case-step2-8215474cb3ddfa794661795546b58cff.png",x=n.p+"assets/images/use-case-step3-86b59b1f7285f91880992312601bc968.png",j=n.p+"assets/images/use-case-step4-b09a95715a87bff66926388822ec740e.png",u=n.p+"assets/images/use-case-step5-2d9b8fbf105e275d8925cff3a2ac37e8.png",m={id:"triggers",slug:"/triggers",title:"Triggers",sidebar_position:9},p="Triggers",b={},f=[{value:"How It Works",id:"how-it-works",level:2},{value:"Creating a Trigger",id:"creating-a-trigger",level:3},{value:"Events",id:"events",level:2},{value:"Conditions",id:"conditions",level:2},{value:"Actions",id:"actions",level:2},{value:"Example Usage",id:"example-usage",level:2},{value:"\u2705 Trigger 1: Show Contact Form",id:"-trigger-1-show-contact-form",level:3},{value:"1. Trigger Settings",id:"1-trigger-settings",level:4},{value:"2. Event",id:"2-event",level:4},{value:"3. Condition",id:"3-condition",level:4},{value:"4. Action",id:"4-action",level:4},{value:"\u2705 Trigger 2: Store Form Submission",id:"-trigger-2-store-form-submission",level:3},{value:"1. Trigger Settings",id:"1-trigger-settings-1",level:4},{value:"2. Event",id:"2-event-1",level:4},{value:"3. Conditions",id:"3-conditions",level:4},{value:"4. Action",id:"4-action-1",level:4},{value:"\ud83e\uddea Final Result",id:"-final-result",level:2}];function v(e){const s={blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"triggers",children:"Triggers"})}),"\n",(0,i.jsx)(s.p,{children:"The Triggers feature is an automation engine that allows you to create event-based rules to control your chatbot's behavior."}),"\n",(0,i.jsxs)(s.p,{children:["This is a ",(0,i.jsx)(s.strong,{children:"Pro"}),' feature and requires the "Chatbot Triggers (Beta)" add-on to be activated.']}),"\n",(0,i.jsx)("img",{src:o,width:"600"}),"\n",(0,i.jsxs)(s.p,{children:["You can configure triggers in the ",(0,i.jsx)(s.strong,{children:"Triggers"})," accordion of your chatbot's settings."]}),"\n",(0,i.jsx)(s.h2,{id:"how-it-works",children:"How It Works"}),"\n",(0,i.jsx)(s.p,{children:"The system follows a simple logic:"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsxs)(s.strong,{children:["When an ",(0,i.jsx)(s.code,{children:"Event"})," occurs, if all ",(0,i.jsx)(s.code,{children:"Conditions"})," are met, then perform an ",(0,i.jsx)(s.code,{children:"Action"})]})}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"creating-a-trigger",children:"Creating a Trigger"}),"\n",(0,i.jsxs)(s.p,{children:["Click the ",(0,i.jsx)(s.strong,{children:"Add New Trigger"})," button to create a new rule. Each trigger has the following settings:"]}),"\n",(0,i.jsx)("img",{src:l,width:"600"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Trigger Name & Description"}),": For your own reference."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Priority"}),": A number that determines the order in which triggers are checked. Lower numbers run first (e.g., priority ",(0,i.jsx)(s.code,{children:"10"})," runs before priority ",(0,i.jsx)(s.code,{children:"20"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Active"}),": A toggle to enable or disable the trigger."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"events",children:"Events"}),"\n",(0,i.jsx)(s.p,{children:"An event is what starts a trigger. You select one event per trigger."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"User Message Received"}),": Fires every time a user sends a message, before the AI processes it."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Session Started"}),": Fires only on the very first message of a new conversation."]}),"\n"]}),"\n",(0,i.jsx)("img",{src:d,width:"600"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Form Submitted"}),": Fires when a user submits a form that was displayed by a ",(0,i.jsx)(s.code,{children:"display_form"})," action."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"System Error Occurred"}),": Fires when the AI call or another internal process fails."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"conditions",children:"Conditions"}),"\n",(0,i.jsx)(s.p,{children:"Conditions are rules that must all be true for the action to run. If you don't add any conditions, the action will run every time the event occurs."}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Condition Type"}),": The category of data you want to check (e.g., User Context, Text Content)."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Field"}),": The specific piece of data to check (e.g., ",(0,i.jsx)(s.code,{children:"user_role"}),", ",(0,i.jsx)(s.code,{children:"user_message_text"}),")."]}),"\n"]}),"\n",(0,i.jsx)("img",{src:c,width:"600"}),"\n",(0,i.jsxs)(s.ol,{start:"3",children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Operator"}),": The comparison to perform (e.g., ",(0,i.jsx)(s.code,{children:"equals"}),", ",(0,i.jsx)(s.code,{children:"contains"}),", ",(0,i.jsx)(s.code,{children:"greater_than"}),")."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Value"}),": The value to compare against."]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Example Condition"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type"}),": ",(0,i.jsx)(s.code,{children:"User Context"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Field"}),": ",(0,i.jsx)(s.code,{children:"user_role"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Operator"}),": ",(0,i.jsx)(s.code,{children:"is_one_of"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Value"}),": ",(0,i.jsx)(s.code,{children:"subscriber, customer"})]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:'This condition would be true if the current user has either the "Subscriber" or "Customer" role.'}),"\n",(0,i.jsx)(s.h2,{id:"actions",children:"Actions"}),"\n",(0,i.jsx)(s.p,{children:"An action is what the trigger does if its conditions are met."}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Bot Reply"}),": The chatbot sends a predefined message. You can use placeholders like ",(0,i.jsx)(s.code,{children:"{{user_name}}"}),". You can also choose to stop the AI from processing the user's original message after the reply is sent."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Inject Context"}),": Silently adds extra information to the AI's instructions or history before it generates a response. This is useful for dynamically changing the bot's behavior."]}),"\n"]}),"\n",(0,i.jsx)("img",{src:h,width:"600"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Block Message"}),": Prevents the user's message from being processed and can display a custom reason to the user."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Call Webhook"}),": Sends the chat context data to an external URL, allowing you to integrate with other services like a CRM or a Zapier workflow."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Display Form"}),": Renders a form inside the chat window for the user to fill out. You can build the form with text fields, dropdowns, and checkboxes directly in the trigger editor."]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Store Form Submission"}),": Logs the data from a submitted form to the chat history for a permanent record. This action is only used in ",(0,i.jsx)(s.strong,{children:"form-submitted"})," triggers."]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"example-usage",children:"Example Usage"}),"\n",(0,i.jsx)(s.p,{children:"Let\u2019s walk through a real-world use case involving two triggers."}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": When a user sends a message containing \u201chelp\u201d, display a contact form. When they submit the form, store the submission to the chat history."]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"-trigger-1-show-contact-form",children:"\u2705 Trigger 1: Show Contact Form"}),"\n",(0,i.jsx)(s.h4,{id:"1-trigger-settings",children:"1. Trigger Settings"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Name"}),": ",(0,i.jsx)(s.code,{children:"Show Contact Form"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Priority"}),": ",(0,i.jsx)(s.code,{children:"10"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Active"}),": \u2705 Enabled"]}),"\n"]}),"\n",(0,i.jsx)("img",{src:a,width:"600"}),"\n",(0,i.jsx)(s.h4,{id:"2-event",children:"2. Event"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Event"}),": ",(0,i.jsx)(s.code,{children:"User Message Received"})]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"3-condition",children:"3. Condition"}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Type"}),(0,i.jsx)(s.th,{children:"Field"}),(0,i.jsx)(s.th,{children:"Operator"}),(0,i.jsx)(s.th,{children:"Value"})]})}),(0,i.jsx)(s.tbody,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Text Content"}),(0,i.jsx)(s.td,{children:"user_message_text"}),(0,i.jsx)(s.td,{children:"contains"}),(0,i.jsx)(s.td,{children:"help"})]})})]}),"\n",(0,i.jsx)("img",{src:g,width:"600"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:'This ensures the form only shows when the user mentions "help".'}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"4-action",children:"4. Action"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Action Type"}),": ",(0,i.jsx)(s.code,{children:"Display Form"})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Form Settings"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Form ID"}),": ",(0,i.jsx)(s.code,{children:"help_request_form"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Form Title"}),": ",(0,i.jsx)(s.code,{children:"Need Help? Contact Us Below"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Submit Button Text"}),": ",(0,i.jsx)(s.code,{children:"Send Request"})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Form Fields"}),":"]}),"\n",(0,i.jsxs)(s.table,{children:[(0,i.jsx)(s.thead,{children:(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.th,{children:"Field Type"}),(0,i.jsx)(s.th,{children:"Label"}),(0,i.jsx)(s.th,{children:"Field ID"})]})}),(0,i.jsxs)(s.tbody,{children:[(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Name"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"user_name"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Text"}),(0,i.jsx)(s.td,{children:"Email"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"user_email"})})]}),(0,i.jsxs)(s.tr,{children:[(0,i.jsx)(s.td,{children:"Textarea"}),(0,i.jsx)(s.td,{children:"Message"}),(0,i.jsx)(s.td,{children:(0,i.jsx)(s.code,{children:"user_message"})})]})]})]}),"\n",(0,i.jsx)("img",{src:x,width:"600"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"\u2139\ufe0f Field IDs must be unique and are used for data storage and formatting."}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"-trigger-2-store-form-submission",children:"\u2705 Trigger 2: Store Form Submission"}),"\n",(0,i.jsx)(s.p,{children:"This second trigger handles storing the data once the form is submitted."}),"\n",(0,i.jsx)(s.h4,{id:"1-trigger-settings-1",children:"1. Trigger Settings"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Name"}),": ",(0,i.jsx)(s.code,{children:"Log Help Form Submission"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Priority"}),": ",(0,i.jsx)(s.code,{children:"20"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Active"}),": \u2705 Enabled"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"2-event-1",children:"2. Event"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Event"}),": ",(0,i.jsx)(s.code,{children:"Form Submitted"})]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"3-conditions",children:"3. Conditions"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"No conditions required (leave empty)"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"4-action-1",children:"4. Action"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Action Type"}),": ",(0,i.jsx)(s.code,{children:"Store Form Submission"})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Optional Log Format"})," (supports placeholders):"]}),"\n",(0,i.jsx)("img",{src:j,width:"600"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:"Placeholders will be replaced with submitted values and stored in chat logs."}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"-final-result",children:"\ud83e\uddea Final Result"}),"\n",(0,i.jsx)("img",{src:u,width:"600"}),"\n",(0,i.jsx)(s.p,{children:"When a user types:"}),"\n",(0,i.jsxs)(s.blockquote,{children:["\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:'"I need help"'})}),"\n"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Trigger 1 runs \u2192 displays the contact form"}),"\n",(0,i.jsx)(s.li,{children:"User fills out name, email, and message"}),"\n",(0,i.jsx)(s.li,{children:"Trigger 2 runs \u2192 logs the form data to chat history"}),"\n"]})]})}function w(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(v,{...e})}):v(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>o,x:()=>l});var r=n(6540);const i={},t=r.createContext(i);function o(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function l(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);